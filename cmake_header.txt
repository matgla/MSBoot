cmake_minimum_required (VERSION 2.8)

function(generate_arm_binary INPUT)
    add_custom_command(TARGET ${INPUT}
        COMMAND arm-none-eabi-objcopy -O binary ${INPUT} ${INPUT}.bin)
    set_directory_properties(PROPERTIES ADDITIONAL_MAKE_CLEAN_FILES ${INPUT}.bin)
endfunction(generate_arm_binary)